import{i as Ve,a as yt,c as mt,b as wt,d as le,e as gt}from"./vendor-redux-BXkGT1VS.js";import{t as vt,w as Pt}from"./vendor-redux-thunk-ClJT1hhx.js";var qe=Symbol.for("immer-nothing"),Re=Symbol.for("immer-draftable"),v=Symbol.for("immer-state");function b(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var S=Object,I=S.getPrototypeOf,G="constructor",te="prototype",de="configurable",J="enumerable",K="writable",B="value",R=e=>!!e&&!!e[v];function T(e){return e?He(e)||re(e)||!!e[Re]||!!e[G]?.[Re]||ne(e)||ie(e):!1}var Ct=S[te][G].toString(),De=new WeakMap;function He(e){if(!e||!Ce(e))return!1;const t=I(e);if(t===null||t===S[te])return!0;const r=S.hasOwnProperty.call(t,G)&&t[G];if(r===Object)return!0;if(!L(r))return!1;let n=De.get(r);return n===void 0&&(n=Function.toString.call(r),De.set(r,n)),n===Ct}function j(e,t,r=!0){W(e)===0?(r?Reflect.ownKeys(e):S.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function W(e){const t=e[v];return t?t.type_:re(e)?1:ne(e)?2:ie(e)?3:0}var Oe=(e,t,r=W(e))=>r===2?e.has(t):S[te].hasOwnProperty.call(e,t),he=(e,t,r=W(e))=>r===2?e.get(t):e[t],Q=(e,t,r,n=W(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function St(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var re=Array.isArray,ne=e=>e instanceof Map,ie=e=>e instanceof Set,Ce=e=>typeof e=="object",L=e=>typeof e=="function",ue=e=>typeof e=="boolean";function Et(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var A=e=>e.copy_||e.base_,Se=e=>e.modified_?e.copy_:e.base_;function pe(e,t){if(ne(e))return new Map(e);if(ie(e))return new Set(e);if(re(e))return Array[te].slice.call(e);const r=He(e);if(t===!0||t==="class_only"&&!r){const n=S.getOwnPropertyDescriptors(e);delete n[v];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const c=i[s],o=n[c];o[K]===!1&&(o[K]=!0,o[de]=!0),(o.get||o.set)&&(n[c]={[de]:!0,[K]:!0,[J]:o[J],[B]:e[c]})}return S.create(I(e),n)}else{const n=I(e);if(n!==null&&r)return{...e};const i=S.create(n);return S.assign(i,e)}}function Ee(e,t=!1){return se(e)||R(e)||!T(e)||(W(e)>1&&S.defineProperties(e,{set:V,add:V,clear:V,delete:V}),S.freeze(e),t&&j(e,(r,n)=>{Ee(n,!0)},!1)),e}function kt(){b(2)}var V={[B]:kt};function se(e){return e===null||!Ce(e)?!0:S.isFrozen(e)}var Y="MapSet",_e="Patches",ze="ArrayMethods",Ke={};function z(e){const t=Ke[e];return t||b(0,e),t}var Le=e=>!!Ke[e],$,Xe=()=>$,bt=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Le(Y)?z(Y):void 0,arrayMethodsPlugin_:Le(ze)?z(ze):void 0});function Fe(e,t){t&&(e.patchPlugin_=z(_e),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ye(e){me(e),e.drafts_.forEach(Tt),e.drafts_=null}function me(e){e===$&&($=e.parent_)}var Ie=e=>$=bt($,e);function Tt(e){const t=e[v];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Ne(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[v].modified_&&(ye(t),b(4)),T(e)&&(e=xe(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[v].base_,e,t)}else e=xe(t,r);return Mt(t,e,!0),ye(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qe?e:void 0}function xe(e,t){if(se(t))return t;const r=t[v];if(!r)return ke(t,e.handledSet_,e);if(!ce(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);Qe(r,e)}return r.copy_}function Mt(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ee(t,r)}function Ge(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ce=(e,t)=>e.scope_===t,At=[];function Je(e,t,r,n){const i=A(e),s=e.type_;if(n!==void 0&&he(i,n,s)===t){Q(i,n,r,s);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;j(i,(a,l)=>{if(R(l)){const f=o.get(l)||[];f.push(a),o.set(l,f)}})}const c=e.draftLocations_.get(t)??At;for(const o of c)Q(i,o,r,s)}function Rt(e,t,r){e.callbacks_.push(function(i){const s=t;if(!s||!ce(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const c=Se(s);Je(e,s.draft_??s,c,r),Qe(s,i)})}function Qe(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const i=n.getPath(e);i&&n.generatePatches_(e,i,t)}Ge(e)}}function Dt(e,t,r){const{scope_:n}=e;if(R(r)){const i=r[v];ce(i,n)&&i.callbacks_.push(function(){X(e);const c=Se(i);Je(e,r,c,t)})}else T(r)&&e.callbacks_.push(function(){const s=A(e);he(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&ke(he(e.copy_,t,e.type_),n.handledSet_,n)})}function ke(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||R(e)||t.has(e)||!T(e)||se(e)||(t.add(e),j(e,(n,i)=>{if(R(i)){const s=i[v];if(ce(s,r)){const c=Se(s);Q(e,n,c,e.type_),Ge(s)}}else T(i)&&ke(i,t,r)})),e}function Ot(e,t){const r=re(e),n={type_:r?1:0,scope_:t?t.scope_:Xe(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=be;r&&(i=[n],s=U);const{revoke:c,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=c,[o,n]}var be={get(e,t){if(t===v)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=A(e);if(!Oe(i,t,e.type_))return zt(e,i,t);const s=i[t];if(e.finalized_||!T(s)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&Et(t))return s;if(s===fe(e.base_,t)){X(e);const c=e.type_===1?+t:t,o=ge(e.scope_,s,e,c);return e.copy_[c]=o}return s},has(e,t){return t in A(e)},ownKeys(e){return Reflect.ownKeys(A(e))},set(e,t,r){const n=Ye(A(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=fe(A(e),t),s=i?.[v];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(St(r,i)&&(r!==void 0||Oe(e.base_,t,e.type_)))return!0;X(e),we(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Dt(e,t,r)),!0},deleteProperty(e,t){return X(e),fe(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),we(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=A(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[K]:!0,[de]:e.type_!==1||t!=="length",[J]:n[J],[B]:r[t]}},defineProperty(){b(11)},getPrototypeOf(e){return I(e.base_)},setPrototypeOf(){b(12)}},U={};j(be,(e,t)=>{U[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});U.deleteProperty=function(e,t){return U.set.call(this,e,t,void 0)};U.set=function(e,t,r){return be.set.call(this,e[0],t,r,e[0])};function fe(e,t){const r=e[v];return(r?A(r):e)[t]}function zt(e,t,r){const n=Ye(t,r);return n?B in n?n[B]:n.get?.call(e.draft_):void 0}function Ye(e,t){if(!(t in e))return;let r=I(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=I(r)}}function we(e){e.modified_||(e.modified_=!0,e.parent_&&we(e.parent_))}function X(e){e.copy_||(e.assigned_=new Map,e.copy_=pe(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Lt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,n)=>{if(L(t)&&!L(r)){const s=r;r=t;const c=this;return function(a=s,...l){return c.produce(a,f=>r.call(this,f,...l))}}L(r)||b(6),n!==void 0&&!L(n)&&b(7);let i;if(T(t)){const s=Ie(this),c=ge(s,t,void 0);let o=!0;try{i=r(c),o=!1}finally{o?ye(s):me(s)}return Fe(s,n),Ne(i,s)}else if(!t||!Ce(t)){if(i=r(t),i===void 0&&(i=t),i===qe&&(i=void 0),this.autoFreeze_&&Ee(i,!0),n){const s=[],c=[];z(_e).generateReplacementPatches_(t,i,{patches_:s,inversePatches_:c}),n(s,c)}return i}else b(1,t)},this.produceWithPatches=(t,r)=>{if(L(t))return(c,...o)=>this.produceWithPatches(c,a=>t(a,...o));let n,i;return[this.produce(t,r,(c,o)=>{n=c,i=o}),n,i]},ue(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ue(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ue(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){T(e)||b(8),R(e)&&(e=Ft(e));const t=Ie(this),r=ge(t,e,void 0);return r[v].isManual_=!0,me(t),r}finishDraft(e,t){const r=e&&e[v];(!r||!r.isManual_)&&b(9);const{scope_:n}=r;return Fe(n,t),Ne(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=z(_e).applyPatches_;return R(e)?n(e,t):this.produce(e,i=>n(i,t))}};function ge(e,t,r,n){const[i,s]=ne(t)?z(Y).proxyMap_(t,r):ie(t)?z(Y).proxySet_(t,r):Ot(t,r);return(r?.scope_??Xe()).drafts_.push(i),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?Rt(r,s,n):s.callbacks_.push(function(a){a.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:l}=a;s.modified_&&l&&l.generatePatches_(s,[],a)}),i}function Ft(e){return R(e)||b(10,e),Ze(e)}function Ze(e){if(!T(e)||se(e))return e;const t=e[v];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=pe(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=pe(e,!0);return j(r,(i,s)=>{Q(r,i,Ze(s))},n),t&&(t.finalized_=!1),r}var It=new Lt,et=It.produce,Nt=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?le:le.apply(null,arguments)};function N(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(E(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Ve(n)&&n.type===e,r}var tt=class x extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,x.prototype)}static get[Symbol.species](){return x}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new x(...t[0].concat(this)):new x(...t.concat(this))}};function Be(e){return T(e)?et(e,()=>{}):e}function q(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function xt(e){return typeof e=="boolean"}var Bt=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let c=new tt;return r&&(xt(r)?c.push(vt):c.push(Pt(r.extraArgument))),c},rt="RTK_autoBatch",hr=()=>e=>({payload:e,meta:{[rt]:!0}}),$e=e=>t=>{setTimeout(t,e)},$t=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,c=!1;const o=new Set,a=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$e(10):e.type==="callback"?e.queueNotification:$e(e.timeout),l=()=>{c=!1,s&&(s=!1,o.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const _=()=>i&&f(),w=n.subscribe(_);return o.add(f),()=>{w(),o.delete(f)}},dispatch(f){try{return i=!f?.meta?.[rt],s=!i,s&&(c||(c=!0,a(l))),n.dispatch(f)}finally{i=!0}}})},Ut=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new tt(e);return n&&i.push($t(typeof n=="object"?n:void 0)),i};function pr(e){const t=Bt(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:c=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(yt(r))o=mt(r);else throw new Error(E(1));let a;typeof n=="function"?a=n(t):a=t();let l=le;i&&(l=Nt({trace:!1,...typeof i=="object"&&i}));const f=wt(...a),_=Ut(f);let w=typeof c=="function"?c(_):_();const u=l(...w);return gt(o,s,u)}function nt(e){const t={},r=[];let n;const i={addCase(s,c){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(E(28));if(o in t)throw new Error(E(29));return t[o]=c,i},addAsyncThunk(s,c){return c.pending&&(t[s.pending.type]=c.pending),c.rejected&&(t[s.rejected.type]=c.rejected),c.fulfilled&&(t[s.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:s.settled,reducer:c.settled}),i},addMatcher(s,c){return r.push({matcher:s,reducer:c}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function jt(e){return typeof e=="function"}function Wt(e,t){let[r,n,i]=nt(t),s;if(jt(e))s=()=>Be(e());else{const o=Be(e);s=()=>o}function c(o=s(),a){let l=[r[a.type],...n.filter(({matcher:f})=>f(a)).map(({reducer:f})=>f)];return l.filter(f=>!!f).length===0&&(l=[i]),l.reduce((f,_)=>{if(_)if(R(f)){const u=_(f,a);return u===void 0?f:u}else{if(T(f))return et(f,w=>_(w,a));{const w=_(f,a);if(w===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return f},o)}return c.getInitialState=s,c}var Vt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",qt=(e=21)=>{let t="",r=e;for(;r--;)t+=Vt[Math.random()*64|0];return t},Ht=Symbol.for("rtk-slice-createasyncthunk");function Kt(e,t){return`${e}/${t}`}function Xt({creators:e}={}){const t=e?.asyncThunk?.[Ht];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(E(11));const c=(typeof n.reducers=="function"?n.reducers(Jt()):n.reducers)||{},o=Object.keys(c),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(h,d){const y=typeof h=="string"?h:h.type;if(!y)throw new Error(E(12));if(y in a.sliceCaseReducersByType)throw new Error(E(13));return a.sliceCaseReducersByType[y]=d,l},addMatcher(h,d){return a.sliceMatchers.push({matcher:h,reducer:d}),l},exposeAction(h,d){return a.actionCreators[h]=d,l},exposeCaseReducer(h,d){return a.sliceCaseReducersByName[h]=d,l}};o.forEach(h=>{const d=c[h],y={reducerName:h,type:Kt(i,h),createNotation:typeof n.reducers=="function"};Yt(d)?er(y,d,l,t):Qt(y,d,l)});function f(){const[h={},d=[],y=void 0]=typeof n.extraReducers=="function"?nt(n.extraReducers):[n.extraReducers],P={...h,...a.sliceCaseReducersByType};return Wt(n.initialState,k=>{for(let C in P)k.addCase(C,P[C]);for(let C of a.sliceMatchers)k.addMatcher(C.matcher,C.reducer);for(let C of d)k.addMatcher(C.matcher,C.reducer);y&&k.addDefaultCase(y)})}const _=h=>h,w=new Map,u=new WeakMap;let p;function g(h,d){return p||(p=f()),p(h,d)}function M(){return p||(p=f()),p.getInitialState()}function m(h,d=!1){function y(k){let C=k[h];return typeof C>"u"&&d&&(C=q(u,y,M)),C}function P(k=_){const C=q(w,d,()=>new WeakMap);return q(C,k,()=>{const Ae={};for(const[pt,_t]of Object.entries(n.selectors??{}))Ae[pt]=Gt(_t,k,()=>q(u,k,M),d);return Ae})}return{reducerPath:h,getSelectors:P,get selectors(){return P(y)},selectSlice:y}}const D={name:i,reducer:g,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:M,...m(s),injectInto(h,{reducerPath:d,...y}={}){const P=d??s;return h.inject({reducerPath:P,reducer:g},y),{...D,...m(P,!0)}}};return D}}function Gt(e,t,r,n){function i(s,...c){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...c)}return i.unwrapped=e,i}var _r=Xt();function Jt(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Qt({type:e,reducerName:t,createNotation:r},n,i){let s,c;if("reducer"in n){if(r&&!Zt(n))throw new Error(E(17));s=n.reducer,c=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,c?N(e,c):N(e))}function Yt(e){return e._reducerDefinitionType==="asyncThunk"}function Zt(e){return e._reducerDefinitionType==="reducerWithPrepare"}function er({type:e,reducerName:t},r,n,i){if(!i)throw new Error(E(18));const{payloadCreator:s,fulfilled:c,pending:o,rejected:a,settled:l,options:f}=r,_=i(e,s,f);n.exposeAction(t,_),c&&n.addCase(_.fulfilled,c),o&&n.addCase(_.pending,o),a&&n.addCase(_.rejected,a),l&&n.addMatcher(_.settled,l),n.exposeCaseReducer(t,{fulfilled:c||H,pending:o||H,rejected:a||H,settled:l||H})}function H(){}var tr="task",it="listener",st="completed",Te="cancelled",rr=`task-${Te}`,nr=`task-${st}`,ve=`${it}-${Te}`,ir=`${it}-${st}`,oe=class{constructor(e){this.code=e,this.message=`${tr} ${Te} (reason: ${e})`}name="TaskAbortError";message},Me=(e,t)=>{if(typeof e!="function")throw new TypeError(E(32))},Z=()=>{},ct=(e,t=Z)=>(e.catch(t),e),ot=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),O=e=>{if(e.aborted)throw new oe(e.reason)};function at(e,t){let r=Z;return new Promise((n,i)=>{const s=()=>i(new oe(e.reason));if(e.aborted){s();return}r=ot(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Z})}var sr=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof oe?"cancelled":"rejected",error:r}}finally{t?.()}},ee=e=>t=>ct(at(e,t).then(r=>(O(e),r))),ut=e=>{const t=ee(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:F}=Object,Ue={},ae="listenerMiddleware",cr=(e,t)=>{const r=n=>ot(e,()=>n.abort(e.reason));return(n,i)=>{Me(n);const s=new AbortController;r(s);const c=sr(async()=>{O(e),O(s.signal);const o=await n({pause:ee(s.signal),delay:ut(s.signal),signal:s.signal});return O(s.signal),o},()=>s.abort(nr));return i?.autoJoin&&t.push(c.catch(Z)),{result:ee(e)(c),cancel(){s.abort(rr)}}}},or=(e,t)=>{const r=async(n,i)=>{O(t);let s=()=>{};const o=[new Promise((a,l)=>{let f=e({predicate:n,effect:(_,w)=>{w.unsubscribe(),a([_,w.getState(),w.getOriginalState()])}});s=()=>{f(),l()}})];i!=null&&o.push(new Promise(a=>setTimeout(a,i,null)));try{const a=await at(t,Promise.race(o));return O(t),a}finally{s()}};return(n,i)=>ct(r(n,i))},ft=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=N(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(E(21));return Me(s),{predicate:i,type:t,effect:s}},lt=F(e=>{const{type:t,predicate:r,effect:n}=ft(e);return{id:qt(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(E(22))}}},{withTypes:()=>lt}),je=(e,t)=>{const{type:r,effect:n,predicate:i}=ft(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},Pe=e=>{e.pending.forEach(t=>{t.abort(ve)})},ar=(e,t)=>()=>{for(const r of t.keys())Pe(r);e.clear()},We=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},dt=F(N(`${ae}/add`),{withTypes:()=>dt}),ur=N(`${ae}/removeAll`),ht=F(N(`${ae}/remove`),{withTypes:()=>ht}),fr=(...e)=>{console.error(`${ae}/error`,...e)},yr=(e={})=>{const t=new Map,r=new Map,n=u=>{const p=r.get(u)??0;r.set(u,p+1)},i=u=>{const p=r.get(u)??1;p===1?r.delete(u):r.set(u,p-1)},{extra:s,onError:c=fr}=e;Me(c);const o=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),p=>{u.unsubscribe(),p?.cancelActive&&Pe(u)}),a=u=>{const p=je(t,u)??lt(u);return o(p)};F(a,{withTypes:()=>a});const l=u=>{const p=je(t,u);return p&&(p.unsubscribe(),u.cancelActive&&Pe(p)),!!p};F(l,{withTypes:()=>l});const f=async(u,p,g,M)=>{const m=new AbortController,D=or(a,m.signal),h=[];try{u.pending.add(m),n(u),await Promise.resolve(u.effect(p,F({},g,{getOriginalState:M,condition:(d,y)=>D(d,y).then(Boolean),take:D,delay:ut(m.signal),pause:ee(m.signal),extra:s,signal:m.signal,fork:cr(m.signal,h),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((d,y,P)=>{d!==m&&(d.abort(ve),P.delete(d))})},cancel:()=>{m.abort(ve),u.pending.delete(m)},throwIfCancelled:()=>{O(m.signal)}})))}catch(d){d instanceof oe||We(c,d,{raisedBy:"effect"})}finally{await Promise.all(h),m.abort(ir),i(u),u.pending.delete(m)}},_=ar(t,r);return{middleware:u=>p=>g=>{if(!Ve(g))return p(g);if(dt.match(g))return a(g.payload);if(ur.match(g)){_();return}if(ht.match(g))return l(g.payload);let M=u.getState();const m=()=>{if(M===Ue)throw new Error(E(23));return M};let D;try{if(D=p(g),t.size>0){const h=u.getState(),d=Array.from(t.values());for(const y of d){let P=!1;try{P=y.predicate(g,h,M)}catch(k){P=!1,We(c,k,{raisedBy:"predicate"})}P&&f(y,g,u,m)}}}finally{M=Ue}return D},startListening:a,stopListening:l,clearListeners:_}};function E(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}export{Ft as a,N as b,_r as c,yr as d,pr as e,$t as f,hr as p};
